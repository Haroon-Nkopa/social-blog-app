{% macro form_field(field, autofocus) %}
    
    {% if field.type == 'BooleanField' %}
    <div class="mb-3">
        {{ field.label(class='form-label') }}
        {{ field(class='form-check-input') }}
    </div>

    {% elif field.type == 'RadioField' %}
        {{ field.label(class='form-label') }}
        <div class="mb-3">
            {% for item in field %}
                {{ item(class='form-check-input') }}
                {{ item.label(class='form-check-label')}}
            {% endfor %}
        </div>
    
    {% elif field.type == 'SelectField' %}
        {{ field.label( class='form-label' ) }}
        {{ field( class='form-select') }}

    {% elif field.type == 'TextField' %}
        {{ fiel.label(class='form-label') }}
        <div class="mb-3">
            {% if autofocus %}
                {{ field( class='form-control' + ('is-invalid' if field.errors else ''), autofocus=true )}}
            {% else %}
                {{ fiel( class='form-control' + ('is-invalid' if field.errors else '')) }}
            {% endif %}
            
            {% for error in field.errors %}
                <div class="invalid-feedback">{{error}}</div>
            {% endfor %}
        </div>
        
    {% elif field.type == 'SubmitField' %}
        {{ field(class='btn primary-btn mb-3' ) }}            
    {% else %}
        {{ field.label( class='form-label')}}
        <div class="mb-3">
            {% if autofocus %}
                {{field(class='form-control' + ('is-invalid' if field.errors else ''), autofocus=true)}}
            {% else %}
                {{field(class='form-control' + ('is-invalid' if field.errors else ''))}}
            {% endif %}
        </div>
        
    {% endif %}

{% endmacro %}


{% macro quick_form(form, action='', method='post', id='', novalidate=False) %}
        <form 
            {% if action != None %} action="{{action}}" {%endif%}
            {% if method %} method="{{method}}" {% endif %}
            {% if id %} id="{{id}}" {% endif %}
            {% if novalidate %} novalidate="{{novalidate}}" {% endif %}
        >
            {{ form.hidden_tag() }}
            
            {% for field, errors in form.errors.items() %}
                {% if form[field].widget.input_type == 'hidden' %}
                    {% for error in errors %}
                    <div class="invalid-feedback">{{error}}</div>
                    {% endfor %}
                {%endif%}
            {% endfor %}

            {% set ns = namespace(first_field=true) %}
            {% for field in form %}
                {% if field.widget.input_type != 'hidden' %}
                    {{ form_field(field, ns.first_field) }}
                    {% set ns.first_field=false %}
                {% endif %}
            {% endfor %}
        </form>
{% endmacro %}